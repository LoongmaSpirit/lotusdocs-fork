{{- $options := cond .IsNamedParams (.Get "src") (.Get 0) | dict "Src" -}}
{{- $options = cond .IsNamedParams (.Get "alt") (.Get 1) | .Page.RenderString | dict "Alt" | merge $options -}}

{{- if .IsNamedParams -}}
  {{- $options = dict "Title" (.Get "title") | merge $options -}}
  {{- $options = dict "SrcSmall" (.Get "src_s") | merge $options -}}
  {{- $options = dict "SrcLarge" (.Get "src_l") | merge $options -}}
  {{- $options = dict "Height" (.Get "height") | merge $options -}}
  {{- $options = dict "Width" (.Get "width") | merge $options -}}
  {{- $options = .Get "linked" | ne false | dict "Linked" | merge $options -}}
  {{- $options = dict "Rel" (.Get "rel") | merge $options -}}
  {{- $options = dict "Loading" (.Get "loading") | merge $options -}}
  {{- $options = dict "Responsive" true | merge $options -}}
  {{- partial "plugin/image.html" $options -}}
{{- end -}}